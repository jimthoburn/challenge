<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Navigation for the 2018 My LA2050 Activation Challenge</title>
  <link rel="stylesheet" href="/assets/css/shared.css" />

  <!-- for general use -->
  <link rel="icon" type="image/png"    href="/assets/images/favicon.png" />

  <!-- for iOS -->
  <link rel="apple-touch-icon"         href="/assets/images/favicon.png" />

  <!-- for Windows 8 -->
  <meta name="msapplication-TileImage" content="/assets/images/favicon.png" />
  <meta name="msapplication-TileColor" content="rgb(240, 53, 133)" />

  <link rel="canonical" href="https://activation.la2050.org/" />
</head>
<body class="navigation">

  <h1><a href="/">My LA2050<br /><em>Activation</em><br />Challenge</a></h1>
  <ul>
    <li><a href="/about">About</a></li>
    <li><a href="/submit">Submit</a></li>
    <li><a href="/vote">Vote</a></li>
    <li><a href="/timeline">Timeline</a></li>
    <li><a href="/faqs"><abbr title="Frequently Asked Questions">FAQs</abbr></a></li>
  </ul>

  <p class="back strawberry">
    <span class="action">
    <a href="/">
      <svg width="20" height="20" viewBox="0 0 20 20">
        <!--
        <path d="M2.143 10l7.857 7.857 1.947-1.947-4.534-4.534h10.443v-2.753h-10.443l4.534-4.534-1.947-1.947z"></path>
        -->
        <switch>
          <path d="M17.792 3.766l-1.558-1.559-6.234 6.234-6.234-6.234-1.559 1.558 6.234 6.234-6.234 6.234 1.558 1.558 6.234-6.234 6.234 6.234 1.558-1.558-6.234-6.234z"></path>
          <foreignObject>Go back</foreignObject>
        </switch>
      </svg>
    </a>
    </span>
  </p>

  <script>
  (function() {
    // http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript#answer-901144
    function getParameterByName(name, url) {
      if (!url) url = window.location.href;
      name = name.replace(/[\[\]]/g, "\\$&");
      let regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    var previousPage = getParameterByName('previous_page');
    var previousLinkContainer = document.querySelector('.back');
    var previousLink = document.querySelector('.back a');
    if (previousPage && previousLink) {
      previousLink.setAttribute('href', previousPage);

      if (previousPage.indexOf('vote') >= 0) {
        previousLinkContainer.classList.remove('strawberry');
        previousLinkContainer.classList.add('blueberry');
      } else if (previousPage.indexOf('timeline') >= 0) {
        previousLinkContainer.classList.remove('strawberry');
        previousLinkContainer.classList.add('banana');
      } else if (previousPage.indexOf('submit') >= 0) {
        previousLinkContainer.classList.remove('strawberry');
        previousLinkContainer.classList.add('lime');
      } else if (previousPage.indexOf('faqs') >= 0) {
        previousLinkContainer.classList.remove('strawberry');
        previousLinkContainer.classList.add('tangerine');
      } else if (previousPage === '/') {
        previousLinkContainer.classList.remove('strawberry');
        previousLinkContainer.classList.add('blueberry');
      }

      previousLink.addEventListener('click', function(e) {
        if (document.referrer != '') {
          window.history.back();
          e.preventDefault(); 
        }
      }, false);
    }
  })();
  </script>

</body>
</html>
